<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paint - Ritprogram fÃ¶r barn</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Applicerar det nya typsnittet pÃ¥ hela sidan */
        body {
            font-family: 'Fredoka', sans-serif;
        }
        /* Anpassar range-slidern (storleksvÃ¤ljaren) fÃ¶r att vara tjockare och enklare att greppa */
        input[type=range] {
            height: 24px;
            -webkit-appearance: none;
            background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background: #6366f1; /* Indigo-500 */
            cursor: pointer;
            margin-top: -8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 8px;
            cursor: pointer;
            background: #cbd5e1;
            border-radius: 999px;
        }
        .tool-btn, .layer-btn {
            transition: none; /* Tog bort transition fÃ¶r en mer direkt kÃ¤nsla, enligt Ã¶nskemÃ¥l om statisk look */
        }
        .tool-btn:active, .layer-btn:active {
            transform: translateY(2px); /* Fysisk "tryck"-effekt */
            border-bottom-width: 0px; /* Tar bort 3D-kanten vid klick */
            margin-top: 2px; /* Justerar position fÃ¶r att matcha */
        }
    </style>
</head>
<body class="bg-sky-100 min-h-screen flex flex-col bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]">
    <div class="bg-white/90 border-b-4 border-sky-300 shadow-xl z-30">
        <button 
            id="toolbarToggle" 
            class="lg:hidden w-full p-4 bg-indigo-500 text-white font-bold text-xl flex items-center justify-center gap-2 border-b-4 border-indigo-700"
        >
            <span id="toolbarToggleText">Ã–ppna verktygslÃ¥dan ğŸ¨</span>
        </button>
        
        <div id="toolbarContent" class="p-4 lg:block hidden">
            <div class="max-w-7xl mx-auto">
                
                <div class="flex flex-wrap items-center gap-3 lg:gap-4 mb-4 pb-4 border-b-2 border-dashed border-sky-200">
                    <span class="text-lg font-bold text-indigo-600 w-full lg:w-auto mr-2">VÃ¤lj verktyg:</span>
                    
                    <button id="brushTool" class="tool-btn px-4 py-3 bg-indigo-500 text-white rounded-2xl text-base font-bold border-2 border-indigo-600 border-b-4 ring-2 ring-indigo-300 ring-offset-2">
                        ğŸ–Œï¸ Pensel
                    </button>
                    <button id="eraserTool" class="tool-btn px-4 py-3 bg-white text-indigo-600 rounded-2xl text-base font-bold border-2 border-indigo-100 border-b-4 hover:bg-indigo-50">
                        ğŸ§¹ Sudd
                    </button>
                    <button id="rectangleTool" class="tool-btn px-4 py-3 bg-white text-indigo-600 rounded-2xl text-base font-bold border-2 border-indigo-100 border-b-4 hover:bg-indigo-50">
                        â¬œ Kvadrat
                    </button>
                    <button id="circleTool" class="tool-btn px-4 py-3 bg-white text-indigo-600 rounded-2xl text-base font-bold border-2 border-indigo-100 border-b-4 hover:bg-indigo-50">
                        â­• Cirkel
                    </button>
                    <button id="triangleTool" class="tool-btn px-4 py-3 bg-white text-indigo-600 rounded-2xl text-base font-bold border-2 border-indigo-100 border-b-4 hover:bg-indigo-50">
                        ğŸ”º Triangel
                    </button>
                    <button id="fillTool" class="tool-btn px-4 py-3 bg-white text-indigo-600 rounded-2xl text-base font-bold border-2 border-indigo-100 border-b-4 hover:bg-indigo-50">
                        ğŸª£ Fyll
                    </button>
                </div>

                <div class="flex flex-wrap items-center gap-4 lg:gap-6">
                    
                    <div class="flex items-center gap-3 bg-orange-50 px-4 py-2 rounded-2xl border-2 border-orange-200">
                        <label for="colorPicker" class="text-base font-bold text-orange-600">FÃ¤rg:</label>
                        <input 
                            type="color" 
                            id="colorPicker" 
                            value="#000000"
                            class="w-12 h-12 rounded-full cursor-pointer border-4 border-white shadow-sm overflow-hidden"
                            style="padding: 0;"
                        >
                    </div>

                    <div class="flex items-center gap-3 bg-purple-50 px-4 py-2 rounded-2xl border-2 border-purple-200 w-full lg:w-auto flex-grow lg:flex-grow-0">
                        <label for="brushSize" class="text-base font-bold text-purple-600">Tjocklek:</label>
                        <input 
                            type="range" 
                            id="brushSize" 
                            min="1" 
                            max="50" 
                            value="5"
                            class="flex-1 lg:w-40"
                        >
                        <span id="brushSizeValue" class="text-lg font-bold text-purple-600 w-12 text-center bg-white rounded-lg py-1 border border-purple-100">5</span>
                    </div>

                    <div class="flex items-center gap-2 w-full lg:w-auto bg-sky-50 p-2 rounded-2xl border-2 border-sky-100">
                        <span class="text-sm font-bold text-sky-600 px-2">Lager:</span>
                        <button id="layer0Btn" class="layer-btn px-4 py-2 bg-sky-500 text-white rounded-xl text-sm font-bold border-b-4 border-sky-700 flex-1 lg:flex-none">
                            1
                        </button>
                        <button id="layer1Btn" class="layer-btn px-4 py-2 bg-white text-sky-600 rounded-xl text-sm font-bold border-b-4 border-sky-200 flex-1 lg:flex-none hover:bg-sky-100">
                            2
                        </button>
                    </div>

                    <div class="flex gap-3 w-full lg:w-auto lg:ml-auto mt-2 lg:mt-0">
                        <button 
                            id="undoBtn"
                            class="flex-1 lg:flex-none px-4 py-2 bg-amber-400 text-white rounded-xl font-bold border-b-4 border-amber-600 hover:bg-amber-500 disabled:bg-gray-300 disabled:border-gray-400 disabled:text-gray-500"
                            title="Ã…ngra"
                        >
                            â†©ï¸ Ã…ngra
                        </button>
                        <button 
                            id="redoBtn"
                            class="flex-1 lg:flex-none px-4 py-2 bg-amber-400 text-white rounded-xl font-bold border-b-4 border-amber-600 hover:bg-amber-500 disabled:bg-gray-300 disabled:border-gray-400 disabled:text-gray-500"
                            title="GÃ¶r om"
                        >
                            â†ªï¸ GÃ¶r om
                        </button>
                        <button 
                            id="clearBtn"
                            class="flex-1 lg:flex-none px-4 py-2 bg-rose-500 text-white rounded-xl font-bold border-b-4 border-rose-700 hover:bg-rose-600"
                        >
                            ğŸ—‘ï¸ Rensa
                        </button>
                        <button 
                            id="saveBtn"
                            class="flex-1 lg:flex-none px-4 py-2 bg-emerald-500 text-white rounded-xl font-bold border-b-4 border-emerald-700 hover:bg-emerald-600"
                        >
                            ğŸ’¾ Spara
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="flex-1 flex items-center justify-center p-4 lg:p-8">
        <div class="bg-white shadow-2xl rounded-3xl overflow-hidden relative border-8 border-yellow-300" 
             style="width: min(800px, 100%); height: min(600px, calc(100vh - 250px)); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);">
            <canvas 
                id="layer0" 
                width="800" 
                height="600"
                class="absolute top-0 left-0 cursor-crosshair z-0 w-full h-full"
                style="image-rendering: crisp-edges;"
            ></canvas>
            <canvas 
                id="layer1" 
                width="800" 
                height="600"
                class="absolute top-0 left-0 cursor-crosshair z-10 w-full h-full"
                style="image-rendering: crisp-edges;"
            ></canvas>
            <canvas 
                id="tempCanvas" 
                width="800" 
                height="600"
                class="absolute top-0 left-0 cursor-crosshair pointer-events-none z-20 w-full h-full"
                style="image-rendering: crisp-edges;"
            ></canvas>
        </div>
    </div>

    <div id="confirmModal" class="hidden fixed inset-0 bg-indigo-900 bg-opacity-60 flex items-center justify-center z-50 backdrop-blur-sm">
        <div class="bg-white rounded-3xl shadow-2xl p-8 max-w-md mx-4 border-b-8 border-indigo-200">
            <div class="text-center mb-8">
                <div class="text-7xl mb-4">ğŸ¤”</div>
                <h2 class="text-3xl font-bold text-indigo-600 mb-3">Vill du bÃ¶rja om?</h2>
                <p class="text-gray-500 text-lg font-medium">Om du trycker pÃ¥ "Ja" sÃ¥ fÃ¶rsvinner din teckning.</p>
            </div>
            <div class="flex flex-col gap-4">
                <button 
                    id="confirmNo" 
                    class="w-full px-6 py-4 bg-emerald-500 text-white rounded-2xl hover:bg-emerald-600 transition-none border-b-4 border-emerald-700 text-xl font-bold"
                >
                    ğŸ˜… Nej, jag vill ha kvar den!
                </button>
                <button 
                    id="confirmYes" 
                    class="w-full px-6 py-3 bg-rose-100 text-rose-600 rounded-2xl hover:bg-rose-200 transition-none border-b-4 border-rose-200 text-lg font-bold"
                >
                    Ja, ta bort allt
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>